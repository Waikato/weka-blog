<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Making a Weka classifier | WEKA Blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://waikato.github.io/weka-blog/posts/2018-10-08-making-a-weka-classifier/">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="eibe">
<link rel="prev" href="../2018-06-22-wekakotlin/" title="Weka-Kt: Kotlin Extensions for Weka" type="text/html">
<link rel="next" href="../2019-01-30-sampling/" title="Oversampling and Undersampling" type="text/html">
<meta property="og:site_name" content="WEKA Blog">
<meta property="og:title" content="Making a Weka classifier">
<meta property="og:url" content="https://waikato.github.io/weka-blog/posts/2018-10-08-making-a-weka-classifier/">
<meta property="og:description" content="One role of the Weka software is to provide users with the opportunity to implement machine learning algorithms without having to deal with data import and evaluation issues: when a classifier has bee">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-10-08T16:02:00+12:00">
<meta property="article:tag" content="github">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-expand-md static-top mb-4
navbar-dark
bg-dark
"><div class="container">
<!-- This keeps the margins nice -->
        <a class="navbar-brand" href="../../">

            <span id="blog-title">WEKA Blog</span>
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="bs-navbar">
            <ul class="navbar-nav mr-auto">
<li class="nav-item">
<a href="../../archive.html" class="nav-link">Archive</a>
                </li>
<li class="nav-item">
<a href="../../categories/" class="nav-link">Tags</a>
                </li>
<li class="nav-item">
<a href="../../rss.xml" class="nav-link">RSS feed</a>

                
            </li>
</ul>
<ul class="navbar-nav navbar-right">
<li class="nav-item">
    <a href="index.rst" id="sourcelink" class="nav-link">Source</a>
    </li>


                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        
        
        
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Making a Weka classifier</a></h1>

        <div class="metadata">
            <p class="byline author vcard p-author h-card"><span class="byline-name fn p-name" itemprop="author">
                    <a class="u-url" href="../../authors/eibe/">eibe</a>
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2018-10-08T16:02:00+12:00" itemprop="datePublished" title="2018-10-08 16:02">2018-10-08 16:02</time></a>
            </p>
            
        <p class="sourceline"><a href="index.rst" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>One role of the Weka software is to provide users with the opportunity to implement machine learning algorithms without having to deal with data import and evaluation issues: when a classifier has been written as a Java class that implements a couple of standard methods defined in the Weka framework, all the goodies that come with Weka are automatically applicable to it, and it will automatically show up in Weka's graphical user interfaces. To see what needs to be done, read on!</p>
<!-- TEASER_END -->
<section id="section-1-implementing-a-classifier"><h2>Section 1: Implementing a classifier</h2>
<p>To integrate your supervised learning algorithm into Weka, you need to make a Java class that implements Weka’s <code class="docutils literal">Classifier</code> interface. Regression methods, just like classification methods, are also implemented as <code class="docutils literal">Classifier</code> objects in Weka: the historic reason for this is that regression has sometimes been termed classification with “continuous classes” in early work on machine learning.</p>
<p>There are three primary methods in the <code class="docutils literal">Classifier</code> interface: <code class="docutils literal">buildClassifier(Instances)</code>, which will build the classification or regression model based on the given training instances, <code class="docutils literal">classifyInstance(Instance)</code>, which takes a test instance and returns a single predicted class value for the instance that is supplied, and <code class="docutils literal">distributionForInstance(Instance)</code>, which returns a class probability distribution instead, assuming the class attribute is nominal. The fourth method in the <code class="docutils literal">Classifier</code> interface, <code class="docutils literal">getCapabilities()</code>, returns the capabilities of the classifier, specifying what kind of data it can be applied to. More on that further below.</p>
<p>In practice, it is normally best to just extend Weka’s <code class="docutils literal">AbstractClassifier</code> class, which implements the <code class="docutils literal">Classifier</code> interface and is the superclass of pretty much all <code class="docutils literal">Classifier</code> classes that can be found in Weka. It has default implementations for the <code class="docutils literal">distributionForInstance(Instance)</code> and <code class="docutils literal">classifyInstance(Instance)</code> methods, one of which you have to override in your <code class="docutils literal">Classifier</code> class. You also need to implement the <code class="docutils literal">buildClassifier(Instances)</code> method to actually build the classification/regression model. The <code class="docutils literal">AbstractClassifier</code> has a default implementation of the <code class="docutils literal">getCapabilities()</code> method, which simply returns all possible capabilities, implying that the classifier can be applied to any kind of training data. Your class will inherit this default implementation and overriding this method is optional.</p>
<p>So, at a minimum, the Java class for your learning algorithm, assuming it extends <code class="docutils literal">AbstractClassifier</code>, needs to implement two methods: <code class="docutils literal">buildClassifier(Instances)</code> and <code class="docutils literal">distributionForInstance(Instance)</code> (or <code class="docutils literal">classifyInstance(Instance)</code>). The <code class="docutils literal">distributionForInstance(Instance)</code> method must return a double array containing the estimated class probabilities for the different class values of the test instance if the class is nominal. If the class is numeric, it must return a single-element array with the numeric prediction for the test instance. The <code class="docutils literal">classifyInstance(Instance)</code> method, if you choose to implement it instead of <code class="docutils literal">distributionForInstance(Instance)</code>, must return the index of the predicted class value (coded as a number of type <code class="docutils literal">double</code>) if the class is nominal and simply return the predicted class value if the class is numeric.</p>
<p>Below you can find an implementation of a basic K-nearest-neighbours classifier for Weka. It implements <code class="docutils literal">buildClassifier(Instances)</code> and <code class="docutils literal">distributionForInstance(Instance)</code>, the two required methods for a <code class="docutils literal">Classifier</code>. It also has a setter/getter method pair to set the value of the parameter <code class="docutils literal">K</code> in WEKA's graphical user interfaces (GUIs) and shows WEKA's <code class="docutils literal">@OptionMetadata</code> annotation, which is used to specify further information for this parameter, e.g., the corresponding command-line option <code class="docutils literal"><span class="pre">-K</span> &lt;int&gt;</code>. This is all the code that is necessary to use the classifier in Weka’s GUIs or run it from a command-line interface using the <code class="docutils literal">weka.Run</code> class. For example, it would be enough to run systematic experiments with the K-nearest-neighbour method in Weka’s Experimenter GUI. As you can see, it is pretty straightforward to implement a classifier in Weka!</p>
<div class="code"><pre class="code Java"><a id="rest_code_a24256584644471b84a846cd82433989-1" name="rest_code_a24256584644471b84a846cd82433989-1" href="#rest_code_a24256584644471b84a846cd82433989-1"></a><span class="kn">package</span><span class="w"> </span><span class="nn">weka.classifiers.lazy</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-2" name="rest_code_a24256584644471b84a846cd82433989-2" href="#rest_code_a24256584644471b84a846cd82433989-2"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-3" name="rest_code_a24256584644471b84a846cd82433989-3" href="#rest_code_a24256584644471b84a846cd82433989-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.Instance</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-4" name="rest_code_a24256584644471b84a846cd82433989-4" href="#rest_code_a24256584644471b84a846cd82433989-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.Instances</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-5" name="rest_code_a24256584644471b84a846cd82433989-5" href="#rest_code_a24256584644471b84a846cd82433989-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.OptionMetadata</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-6" name="rest_code_a24256584644471b84a846cd82433989-6" href="#rest_code_a24256584644471b84a846cd82433989-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.classifiers.AbstractClassifier</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-7" name="rest_code_a24256584644471b84a846cd82433989-7" href="#rest_code_a24256584644471b84a846cd82433989-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.neighboursearch.LinearNNSearch</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-8" name="rest_code_a24256584644471b84a846cd82433989-8" href="#rest_code_a24256584644471b84a846cd82433989-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.neighboursearch.NearestNeighbourSearch</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-9" name="rest_code_a24256584644471b84a846cd82433989-9" href="#rest_code_a24256584644471b84a846cd82433989-9"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-10" name="rest_code_a24256584644471b84a846cd82433989-10" href="#rest_code_a24256584644471b84a846cd82433989-10"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">KNNMinimal</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractClassifier</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-11" name="rest_code_a24256584644471b84a846cd82433989-11" href="#rest_code_a24256584644471b84a846cd82433989-11"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-12" name="rest_code_a24256584644471b84a846cd82433989-12" href="#rest_code_a24256584644471b84a846cd82433989-12"></a><span class="w">   </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m_K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-13" name="rest_code_a24256584644471b84a846cd82433989-13" href="#rest_code_a24256584644471b84a846cd82433989-13"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-14" name="rest_code_a24256584644471b84a846cd82433989-14" href="#rest_code_a24256584644471b84a846cd82433989-14"></a><span class="w">   </span><span class="kd">protected</span><span class="w"> </span><span class="n">NearestNeighbourSearch</span><span class="w"> </span><span class="n">m_NNSearch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinearNNSearch</span><span class="p">();</span>
<a id="rest_code_a24256584644471b84a846cd82433989-15" name="rest_code_a24256584644471b84a846cd82433989-15" href="#rest_code_a24256584644471b84a846cd82433989-15"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-16" name="rest_code_a24256584644471b84a846cd82433989-16" href="#rest_code_a24256584644471b84a846cd82433989-16"></a><span class="w">   </span><span class="nd">@OptionMetadata</span><span class="p">(</span><span class="n">displayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"number of neighbours"</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Number of neighbours to use (default = 1)."</span><span class="p">,</span>
<a id="rest_code_a24256584644471b84a846cd82433989-17" name="rest_code_a24256584644471b84a846cd82433989-17" href="#rest_code_a24256584644471b84a846cd82433989-17"></a><span class="w">                   </span><span class="n">commandLineParamName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"K"</span><span class="p">,</span><span class="w"> </span><span class="n">commandLineParamSynopsis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"-K &lt;int&gt;"</span><span class="p">,</span><span class="w"> </span><span class="n">displayOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="rest_code_a24256584644471b84a846cd82433989-18" name="rest_code_a24256584644471b84a846cd82433989-18" href="#rest_code_a24256584644471b84a846cd82433989-18"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setK</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-19" name="rest_code_a24256584644471b84a846cd82433989-19" href="#rest_code_a24256584644471b84a846cd82433989-19"></a><span class="w">       </span><span class="n">m_K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-20" name="rest_code_a24256584644471b84a846cd82433989-20" href="#rest_code_a24256584644471b84a846cd82433989-20"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_a24256584644471b84a846cd82433989-21" name="rest_code_a24256584644471b84a846cd82433989-21" href="#rest_code_a24256584644471b84a846cd82433989-21"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-22" name="rest_code_a24256584644471b84a846cd82433989-22" href="#rest_code_a24256584644471b84a846cd82433989-22"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getK</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-23" name="rest_code_a24256584644471b84a846cd82433989-23" href="#rest_code_a24256584644471b84a846cd82433989-23"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">m_K</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-24" name="rest_code_a24256584644471b84a846cd82433989-24" href="#rest_code_a24256584644471b84a846cd82433989-24"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_a24256584644471b84a846cd82433989-25" name="rest_code_a24256584644471b84a846cd82433989-25" href="#rest_code_a24256584644471b84a846cd82433989-25"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-26" name="rest_code_a24256584644471b84a846cd82433989-26" href="#rest_code_a24256584644471b84a846cd82433989-26"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">buildClassifier</span><span class="p">(</span><span class="n">Instances</span><span class="w"> </span><span class="n">trainingData</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-27" name="rest_code_a24256584644471b84a846cd82433989-27" href="#rest_code_a24256584644471b84a846cd82433989-27"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-28" name="rest_code_a24256584644471b84a846cd82433989-28" href="#rest_code_a24256584644471b84a846cd82433989-28"></a><span class="w">       </span><span class="n">trainingData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Instances</span><span class="p">(</span><span class="n">trainingData</span><span class="p">);</span>
<a id="rest_code_a24256584644471b84a846cd82433989-29" name="rest_code_a24256584644471b84a846cd82433989-29" href="#rest_code_a24256584644471b84a846cd82433989-29"></a><span class="w">       </span><span class="n">trainingData</span><span class="p">.</span><span class="na">deleteWithMissingClass</span><span class="p">();</span>
<a id="rest_code_a24256584644471b84a846cd82433989-30" name="rest_code_a24256584644471b84a846cd82433989-30" href="#rest_code_a24256584644471b84a846cd82433989-30"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-31" name="rest_code_a24256584644471b84a846cd82433989-31" href="#rest_code_a24256584644471b84a846cd82433989-31"></a><span class="w">       </span><span class="n">m_NNSearch</span><span class="p">.</span><span class="na">setInstances</span><span class="p">(</span><span class="n">trainingData</span><span class="p">);</span>
<a id="rest_code_a24256584644471b84a846cd82433989-32" name="rest_code_a24256584644471b84a846cd82433989-32" href="#rest_code_a24256584644471b84a846cd82433989-32"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_a24256584644471b84a846cd82433989-33" name="rest_code_a24256584644471b84a846cd82433989-33" href="#rest_code_a24256584644471b84a846cd82433989-33"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-34" name="rest_code_a24256584644471b84a846cd82433989-34" href="#rest_code_a24256584644471b84a846cd82433989-34"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="o">[]</span><span class="w"> </span><span class="nf">distributionForInstance</span><span class="p">(</span><span class="n">Instance</span><span class="w"> </span><span class="n">testInstance</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-35" name="rest_code_a24256584644471b84a846cd82433989-35" href="#rest_code_a24256584644471b84a846cd82433989-35"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-36" name="rest_code_a24256584644471b84a846cd82433989-36" href="#rest_code_a24256584644471b84a846cd82433989-36"></a><span class="w">       </span><span class="n">m_NNSearch</span><span class="p">.</span><span class="na">addInstanceInfo</span><span class="p">(</span><span class="n">testInstance</span><span class="p">);</span>
<a id="rest_code_a24256584644471b84a846cd82433989-37" name="rest_code_a24256584644471b84a846cd82433989-37" href="#rest_code_a24256584644471b84a846cd82433989-37"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-38" name="rest_code_a24256584644471b84a846cd82433989-38" href="#rest_code_a24256584644471b84a846cd82433989-38"></a><span class="w">       </span><span class="n">Instances</span><span class="w"> </span><span class="n">neighbours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_NNSearch</span><span class="p">.</span><span class="na">kNearestNeighbours</span><span class="p">(</span><span class="n">testInstance</span><span class="p">,</span><span class="w"> </span><span class="n">m_K</span><span class="p">);</span>
<a id="rest_code_a24256584644471b84a846cd82433989-39" name="rest_code_a24256584644471b84a846cd82433989-39" href="#rest_code_a24256584644471b84a846cd82433989-39"></a>
<a id="rest_code_a24256584644471b84a846cd82433989-40" name="rest_code_a24256584644471b84a846cd82433989-40" href="#rest_code_a24256584644471b84a846cd82433989-40"></a><span class="w">       </span><span class="kt">double</span><span class="o">[]</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">double</span><span class="o">[</span><span class="n">testInstance</span><span class="p">.</span><span class="na">numClasses</span><span class="p">()</span><span class="o">]</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-41" name="rest_code_a24256584644471b84a846cd82433989-41" href="#rest_code_a24256584644471b84a846cd82433989-41"></a><span class="w">       </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Instance</span><span class="w"> </span><span class="n">neighbour</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">neighbours</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-42" name="rest_code_a24256584644471b84a846cd82433989-42" href="#rest_code_a24256584644471b84a846cd82433989-42"></a><span class="w">           </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">testInstance</span><span class="p">.</span><span class="na">classAttribute</span><span class="p">().</span><span class="na">isNominal</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-43" name="rest_code_a24256584644471b84a846cd82433989-43" href="#rest_code_a24256584644471b84a846cd82433989-43"></a><span class="w">               </span><span class="n">dist</span><span class="o">[</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">neighbour</span><span class="p">.</span><span class="na">classValue</span><span class="p">()</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">neighbours</span><span class="p">.</span><span class="na">numInstances</span><span class="p">();</span>
<a id="rest_code_a24256584644471b84a846cd82433989-44" name="rest_code_a24256584644471b84a846cd82433989-44" href="#rest_code_a24256584644471b84a846cd82433989-44"></a><span class="w">           </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_a24256584644471b84a846cd82433989-45" name="rest_code_a24256584644471b84a846cd82433989-45" href="#rest_code_a24256584644471b84a846cd82433989-45"></a><span class="w">               </span><span class="n">dist</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">neighbour</span><span class="p">.</span><span class="na">classValue</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">neighbours</span><span class="p">.</span><span class="na">numInstances</span><span class="p">();</span>
<a id="rest_code_a24256584644471b84a846cd82433989-46" name="rest_code_a24256584644471b84a846cd82433989-46" href="#rest_code_a24256584644471b84a846cd82433989-46"></a><span class="w">           </span><span class="p">}</span>
<a id="rest_code_a24256584644471b84a846cd82433989-47" name="rest_code_a24256584644471b84a846cd82433989-47" href="#rest_code_a24256584644471b84a846cd82433989-47"></a><span class="w">       </span><span class="p">}</span>
<a id="rest_code_a24256584644471b84a846cd82433989-48" name="rest_code_a24256584644471b84a846cd82433989-48" href="#rest_code_a24256584644471b84a846cd82433989-48"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">dist</span><span class="p">;</span>
<a id="rest_code_a24256584644471b84a846cd82433989-49" name="rest_code_a24256584644471b84a846cd82433989-49" href="#rest_code_a24256584644471b84a846cd82433989-49"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_a24256584644471b84a846cd82433989-50" name="rest_code_a24256584644471b84a846cd82433989-50" href="#rest_code_a24256584644471b84a846cd82433989-50"></a><span class="p">}</span>
</pre></div>
<p>For Weka to find your class using its automatic Java class discovery mechanism when you want to run it in the GUIs or from the command-line using <code class="docutils literal">weka.Run</code>, it needs to be in the Java <code class="docutils literal">CLASSPATH</code> and in one of Weka's standard Java packages for classifiers (e.g., <code class="docutils literal">weka.classifiers.functions</code> or <code class="docutils literal">weka.classifiers.trees</code>). If that is the case, regardless of where your class is physically located on your file system, it will show up in Weka’s GUIs automatically (e.g., if you invoke the <code class="docutils literal">main()</code> method of <code class="docutils literal">weka.gui.GUIChooser</code>, which is the main entry point into Weka’s GUIs) and also be available through <code class="docutils literal">weka.Run</code> at a command-line interface.</p>
<p>Note that the standard Java package structuring rules apply: the directory structure for your class needs to match up with the fully qualified Java class name, e.g., <code class="docutils literal">weka.classifiers.functions.MyFunctionalClassifier</code> must be located in a folder called <code class="docutils literal">functions</code>, which in turn is located inside a folder called <code class="docutils literal">classifiers</code>, which in turn is located in a folder called <code class="docutils literal">weka</code>. The folder containing this <code class="docutils literal">weka</code> folder will need to be included in your <code class="docutils literal">CLASSPATH</code>.</p>
<p>On my computer, running macOS, having expanded <code class="docutils literal"><span class="pre">weka-3-8-3.zip</span></code> from the Weka website into <code class="docutils literal"><span class="pre">/Users/eibe/weka-3-8-3</span></code>, and with the <code class="docutils literal">KNNMinimal.java</code> file containing the above program in the folder <code class="docutils literal"><span class="pre">/Users/eibe/weka-example/weka/classifiers/lazy</span></code>, I can use the following incantations to compile and run the classifier from the macOS command-line interface (assuming the Java JDK has been installed):</p>
<pre class="literal-block">cd /Users/eibe/weka-example
export CLASSPATH=/Users/eibe/weka-example:/Users/eibe/weka-3-8-3/weka.jar
javac weka/classifiers/lazy/KNNMinimal.java
java weka.Run .KNNMinimal -t /Users/eibe/weka-3-8-3/data/iris.arff</pre>
<p>This will run a 10-fold cross-validation with our 1-nearest-neighbour classifier on the iris data. And, to start up the Weka GUIs and use the classifier from those, we can enter</p>
<pre class="literal-block">java weka.gui.GUIChooser</pre>
</section><section id="section-2-options-capabilities-and-textual-output"><h2>Section 2: Options, capabilities, and textual output</h2>
<p>For Weka’s GUIs to work properly with your <code class="docutils literal">Classifier</code> class, it needs to implement Java's <code class="docutils literal">Serializable</code> indicator interface. <code class="docutils literal">AbstractClassifier</code> does that, so the above example code will work fine. <code class="docutils literal">AbstractClassifier</code> also implements a bunch of other interfaces, including the <code class="docutils literal">OptionHandler</code> interface that is used for command-line option handling. There are four command-line options already implemented in <code class="docutils literal">AbstractClassifier</code>, which are automatically added to the <code class="docutils literal"><span class="pre">-K</span></code> option we have specified in the above example classifier:</p>
<pre class="literal-block">-output-debug-info
-do-not-check-capabiliities
-num-decimal-places &lt;int&gt;
-batch-size &lt;int&gt;</pre>
<p>The first option will simply set the protected member variable <code class="docutils literal">m_Debug</code> to true. You can use it in your class to output optional debug information, or you can just ignore it. The second option is only relevant if your class implements handling of capabilities. More on that in a second. The third option sets the value of the <code class="docutils literal">m_numDecimalPlaces</code> variable. This should be used in the <code class="docutils literal">toString()</code> method of your class, which you need to implement if you want a textual description of your model to be output by Weka, to specify the number of significant digits that are used when floating-point numbers are included in the output. The fourth option is ignored by almost all classifiers in Weka: it can be used to set a desired batch size for batch prediction when the classifier is used in batch prediction mode.</p>
<p>Below is an expanded version of the above example code that includes a <code class="docutils literal">toString()</code> method and a <code class="docutils literal">getCapabilities()</code> method. The <code class="docutils literal">toString()</code> method in this example code is rudimentary and just outputs the number of neighbours used by the classifier. The biggest method is the <code class="docutils literal">getCapabilities()</code> method. This method is optional. It specifies what kind of data this classifier is able to deal with and is used in Weka’s GUIs to grey out a classifier if it is not applicable to a particular dataset. It is also used in the <code class="docutils literal">buildClassifier(Instances)</code> method in this example code: <code class="docutils literal"><span class="pre">getCapabilities().testWithFail(trainingData)</span></code> will use it to check whether the classifier is actually applicable to the data provided for training. Note that implementing this method is really optional: <code class="docutils literal">AbstractClassifier</code> has a default implementation of <code class="docutils literal">getCapabilities()</code> that does not restrict the classifier in any way. Basically, <code class="docutils literal">getCapabilities()</code> only needs to be implemented if you want your classifier to be used by other users, to make it more user friendly.</p>
<div class="code"><pre class="code Java"><a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-1" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-1" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-1"></a><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-2" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-2" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-2"></a><span class="cm">* This code is released to the public domain. Use as you see fit.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-3" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-3" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-3"></a><span class="cm">*/</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-4" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-4" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-4"></a><span class="kn">package</span><span class="w"> </span><span class="nn">weka.classifiers.lazy</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-5" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-5" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-5"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-6" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-6" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-6"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.Instance</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-7" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-7" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-7"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.Instances</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-8" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-8" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-8"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.OptionMetadata</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-9" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-9" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-9"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.Capabilities</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-10" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-10" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-10"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.classifiers.AbstractClassifier</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-11" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-11" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-11"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.neighboursearch.LinearNNSearch</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-12" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-12" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-12"></a><span class="kn">import</span><span class="w"> </span><span class="nn">weka.core.neighboursearch.NearestNeighbourSearch</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-13" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-13" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-13"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-14" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-14" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-14"></a><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-15" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-15" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-15"></a><span class="cm">* Implements the k-nearest-neighbours method for classification and</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-16" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-16" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-16"></a><span class="cm">* regression.  Existing WEKA code is used to retrieve the K nearest</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-17" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-17" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-17"></a><span class="cm">* neighbours for a test instance. The number of neighbours to use is</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-18" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-18" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-18"></a><span class="cm">* a parameter that the user can specify, via a get...()/set...()</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-19" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-19" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-19"></a><span class="cm">* method pair for WEKA's GUIs and a Java annotation for command-line</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-20" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-20" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-20"></a><span class="cm">* option handling.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-21" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-21" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-21"></a><span class="cm">*/</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-22" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-22" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-22"></a><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">KNN</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">AbstractClassifier</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-23" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-23" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-23"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-24" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-24" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-24"></a><span class="w">   </span><span class="cm">/** The number of neighbours to use */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-25" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-25" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-25"></a><span class="w">   </span><span class="kd">protected</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m_K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-26" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-26" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-26"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-27" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-27" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-27"></a><span class="w">   </span><span class="cm">/** The method to be used to search for nearest neighbours. */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-28" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-28" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-28"></a><span class="w">   </span><span class="kd">protected</span><span class="w"> </span><span class="n">NearestNeighbourSearch</span><span class="w"> </span><span class="n">m_NNSearch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinearNNSearch</span><span class="p">();</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-29" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-29" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-29"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-30" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-30" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-30"></a><span class="w">   </span><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-31" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-31" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-31"></a><span class="cm">    * Returns capabilities of the classifier.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-32" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-32" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-32"></a><span class="cm">    *</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-33" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-33" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-33"></a><span class="cm">    * @return the capabilities of this classifier</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-34" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-34" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-34"></a><span class="cm">    */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-35" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-35" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-35"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="n">Capabilities</span><span class="w"> </span><span class="nf">getCapabilities</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-36" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-36" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-36"></a><span class="w">       </span><span class="n">Capabilities</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">getCapabilities</span><span class="p">();</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-37" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-37" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-37"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">disableAll</span><span class="p">();</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-38" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-38" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-38"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-39" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-39" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-39"></a><span class="w">       </span><span class="c1">// predictor attributes</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-40" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-40" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-40"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">NOMINAL_ATTRIBUTES</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-41" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-41" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-41"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">NUMERIC_ATTRIBUTES</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-42" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-42" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-42"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">DATE_ATTRIBUTES</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-43" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-43" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-43"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">MISSING_VALUES</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-44" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-44" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-44"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-45" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-45" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-45"></a><span class="w">       </span><span class="c1">// class</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-46" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-46" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-46"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">NOMINAL_CLASS</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-47" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-47" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-47"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">NUMERIC_CLASS</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-48" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-48" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-48"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">DATE_CLASS</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-49" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-49" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-49"></a><span class="w">       </span><span class="n">result</span><span class="p">.</span><span class="na">enable</span><span class="p">(</span><span class="n">Capabilities</span><span class="p">.</span><span class="na">Capability</span><span class="p">.</span><span class="na">MISSING_CLASS_VALUES</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-50" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-50" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-50"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-51" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-51" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-51"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-52" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-52" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-52"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-53" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-53" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-53"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-54" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-54" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-54"></a><span class="w">   </span><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-55" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-55" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-55"></a><span class="cm">    * Method to set the number of neighbours. Including metadata annotation</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-56" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-56" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-56"></a><span class="cm">    * to implement command-line option handling for this parameter.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-57" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-57" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-57"></a><span class="cm">    */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-58" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-58" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-58"></a><span class="w">   </span><span class="nd">@OptionMetadata</span><span class="p">(</span><span class="n">displayName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"number of neighbours"</span><span class="p">,</span><span class="w"> </span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"Number of neighbours to use (default = 1)."</span><span class="p">,</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-59" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-59" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-59"></a><span class="w">                   </span><span class="n">commandLineParamName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"K"</span><span class="p">,</span><span class="w"> </span><span class="n">commandLineParamSynopsis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"-K &lt;int&gt;"</span><span class="p">,</span><span class="w"> </span><span class="n">displayOrder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-60" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-60" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-60"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setK</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">k</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-61" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-61" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-61"></a><span class="w">       </span><span class="n">m_K</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">k</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-62" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-62" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-62"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-63" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-63" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-63"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-64" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-64" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-64"></a><span class="w">   </span><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-65" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-65" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-65"></a><span class="cm">    * Method to get the currently set number of neighbours.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-66" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-66" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-66"></a><span class="cm">    */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-67" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-67" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-67"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">getK</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-68" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-68" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-68"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">m_K</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-69" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-69" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-69"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-70" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-70" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-70"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-71" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-71" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-71"></a><span class="w">   </span><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-72" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-72" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-72"></a><span class="cm">    * Initialises the classifier from the given training instances.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-73" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-73" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-73"></a><span class="cm">    */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-74" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-74" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-74"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">buildClassifier</span><span class="p">(</span><span class="n">Instances</span><span class="w"> </span><span class="n">trainingData</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-75" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-75" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-75"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-76" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-76" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-76"></a><span class="w">       </span><span class="c1">// Can the classifier handle the data?</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-77" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-77" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-77"></a><span class="w">       </span><span class="n">getCapabilities</span><span class="p">().</span><span class="na">testWithFail</span><span class="p">(</span><span class="n">trainingData</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-78" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-78" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-78"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-79" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-79" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-79"></a><span class="w">       </span><span class="c1">// Make a copy of data and delete instances with a missing class value</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-80" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-80" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-80"></a><span class="w">       </span><span class="n">trainingData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Instances</span><span class="p">(</span><span class="n">trainingData</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-81" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-81" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-81"></a><span class="w">       </span><span class="n">trainingData</span><span class="p">.</span><span class="na">deleteWithMissingClass</span><span class="p">();</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-82" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-82" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-82"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-83" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-83" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-83"></a><span class="w">       </span><span class="c1">// Trivial for KNN: just initialise NN search class</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-84" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-84" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-84"></a><span class="w">       </span><span class="n">m_NNSearch</span><span class="p">.</span><span class="na">setInstances</span><span class="p">(</span><span class="n">trainingData</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-85" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-85" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-85"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-86" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-86" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-86"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-87" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-87" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-87"></a><span class="w">   </span><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-88" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-88" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-88"></a><span class="cm">    * Returns class probability distribution (classification) or numeric</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-89" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-89" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-89"></a><span class="cm">    * target value (regression) for a given test instance.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-90" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-90" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-90"></a><span class="cm">    */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-91" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-91" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-91"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="o">[]</span><span class="w"> </span><span class="nf">distributionForInstance</span><span class="p">(</span><span class="n">Instance</span><span class="w"> </span><span class="n">testInstance</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-92" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-92" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-92"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-93" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-93" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-93"></a><span class="w">       </span><span class="c1">// Add instance to NN search so that attribute ranges can be updated</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-94" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-94" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-94"></a><span class="w">       </span><span class="n">m_NNSearch</span><span class="p">.</span><span class="na">addInstanceInfo</span><span class="p">(</span><span class="n">testInstance</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-95" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-95" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-95"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-96" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-96" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-96"></a><span class="w">       </span><span class="c1">// Get the list of neighbours</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-97" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-97" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-97"></a><span class="w">       </span><span class="n">Instances</span><span class="w"> </span><span class="n">neighbours</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m_NNSearch</span><span class="p">.</span><span class="na">kNearestNeighbours</span><span class="p">(</span><span class="n">testInstance</span><span class="p">,</span><span class="w"> </span><span class="n">m_K</span><span class="p">);</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-98" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-98" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-98"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-99" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-99" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-99"></a><span class="w">       </span><span class="c1">// Calculate calculate class probability distribution or target value</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-100" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-100" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-100"></a><span class="w">       </span><span class="kt">double</span><span class="o">[]</span><span class="w"> </span><span class="n">dist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">double</span><span class="o">[</span><span class="n">testInstance</span><span class="p">.</span><span class="na">numClasses</span><span class="p">()</span><span class="o">]</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-101" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-101" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-101"></a><span class="w">       </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Instance</span><span class="w"> </span><span class="n">neighbour</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">neighbours</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-102" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-102" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-102"></a><span class="w">           </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">testInstance</span><span class="p">.</span><span class="na">classAttribute</span><span class="p">().</span><span class="na">isNominal</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-103" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-103" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-103"></a><span class="w">               </span><span class="n">dist</span><span class="o">[</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">neighbour</span><span class="p">.</span><span class="na">classValue</span><span class="p">()</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mf">1.0</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">neighbours</span><span class="p">.</span><span class="na">numInstances</span><span class="p">();</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-104" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-104" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-104"></a><span class="w">           </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-105" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-105" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-105"></a><span class="w">               </span><span class="n">dist</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">neighbour</span><span class="p">.</span><span class="na">classValue</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">neighbours</span><span class="p">.</span><span class="na">numInstances</span><span class="p">();</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-106" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-106" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-106"></a><span class="w">           </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-107" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-107" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-107"></a><span class="w">       </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-108" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-108" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-108"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="n">dist</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-109" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-109" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-109"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-110" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-110" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-110"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-111" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-111" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-111"></a><span class="w">   </span><span class="cm">/**</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-112" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-112" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-112"></a><span class="cm">    * Returns a textual description of the classifier.</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-113" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-113" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-113"></a><span class="cm">    */</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-114" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-114" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-114"></a><span class="w">   </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-115" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-115" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-115"></a>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-116" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-116" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-116"></a><span class="w">       </span><span class="c1">// Not much to output here for KNN: no explicit model</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-117" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-117" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-117"></a><span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="s">"KNN with "</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">m_K</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">" neighbours"</span><span class="p">;</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-118" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-118" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-118"></a><span class="w">   </span><span class="p">}</span>
<a id="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-119" name="rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-119" href="#rest_code_9f3e41e7ab4c4667a82a6c022a9b538a-119"></a><span class="p">}</span>
</pre></div>
<p>One more thing: if you want your class to be located in a new Java package that is not one of Weka’s standard packages for classifiers, you will need to make an appropriate version of the <code class="docutils literal">GenericPropertiesCreator.props</code> file for Weka. For example, the <code class="docutils literal">RPlugin</code> package for Weka defines a new <code class="docutils literal">weka.classifiers.mlr</code> package and has the following info in the <code class="docutils literal">GenericPropertiesCreator.props</code> file:</p>
<pre class="literal-block">weka.classifiers.Classifier=\
weka.classifiers.mlr</pre>
<p>That is it from me for today. Hope you are finding this useful.</p>
</section>
</div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/github/" rel="tag">github</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../2018-06-22-wekakotlin/" rel="prev" title="Weka-Kt: Kotlin Extensions for Weka">Previous post</a>
            </li>
            <li class="next">
                <a href="../2019-01-30-sampling/" rel="next" title="Oversampling and Undersampling">Next post</a>
            </li>
        </ul></nav></aside></article><!--End of body content--><footer id="footer">
            Contents © 2024         <a href="mailto:eibe@waikato.ac.nz">The WEKA Team</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
            
        </footer>
</div>
</div>


        <script src="../../assets/js/all-nocdn.js"></script><script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element){var i=element.getElementsByTagName('img')[0];return i===undefined?'':i.alt;}});
    </script>
</body>
</html>
